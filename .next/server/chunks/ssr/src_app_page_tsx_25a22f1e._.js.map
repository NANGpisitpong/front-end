{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/armmy/Desktop/front-end/src/app/page.tsx"],"sourcesContent":["'use client';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useEffect, useState } from 'react';\r\nimport './welcome.css';\r\n\r\nexport default function WelcomePage() {\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(true);\r\n  const [showWelcome, setShowWelcome] = useState(false);\r\n  const [showHint, setShowHint] = useState(false);\r\n  const [timeString, setTimeString] = useState('');\r\n  const [displayText, setDisplayText] = useState('');\r\n  const fullText = 'WELCOME';\r\n\r\n  // Loading 2 วินาที\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setLoading(false);\r\n      setShowWelcome(true);\r\n    }, 2000);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  // Hint ขึ้นหลัง Welcome 1.5 วินาที\r\n  useEffect(() => {\r\n    if (showWelcome) {\r\n      const timer = setTimeout(() => {\r\n        setShowHint(true);\r\n      }, 1500);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [showWelcome]);\r\n\r\n  // Canvas เส้นแสงเหมือนเดิม\r\n  useEffect(() => {\r\n    const canvas = document.getElementById('bgCanvas') as HTMLCanvasElement;\r\n    const ctx = canvas?.getContext('2d');\r\n    let animationFrameId: number;\r\n\r\n    const resize = () => {\r\n      if (!canvas) return;\r\n      canvas.width = window.innerWidth;\r\n      canvas.height = window.innerHeight;\r\n    };\r\n    resize();\r\n    window.addEventListener('resize', resize);\r\n\r\n    const lines = Array.from({ length: 80 }, () => ({\r\n      x: Math.random() * window.innerWidth,\r\n      y: Math.random() * window.innerHeight,\r\n      len: 30 + Math.random() * 70,\r\n      speed: 0.3 + Math.random(),\r\n      alpha: 0.1 + Math.random() * 0.5,\r\n    }));\r\n\r\n    const draw = () => {\r\n      if (!ctx) return;\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      ctx.strokeStyle = '#00ff00';\r\n\r\n      lines.forEach(line => {\r\n        ctx.beginPath();\r\n        ctx.globalAlpha = line.alpha;\r\n        ctx.moveTo(line.x, line.y);\r\n        ctx.lineTo(line.x, line.y - line.len);\r\n        ctx.stroke();\r\n\r\n        line.y -= line.speed;\r\n        if (line.y + line.len < 0) line.y = window.innerHeight + line.len;\r\n      });\r\n\r\n      animationFrameId = requestAnimationFrame(draw);\r\n    };\r\n    draw();\r\n\r\n    return () => {\r\n      cancelAnimationFrame(animationFrameId);\r\n      window.removeEventListener('resize', resize);\r\n    };\r\n  }, []);\r\n\r\n  // อัปเดตเวลาแบบเรียลไทม์\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      const now = new Date();\r\n      setTimeString(now.toLocaleTimeString());\r\n    }, 1000);\r\n    return () => clearInterval(timer);\r\n  }, []);\r\n\r\n  // Hacker text effect + typewriter + sound effect\r\n  useEffect(() => {\r\n    if (!loading && showWelcome) {\r\n      const chars = '!@#$%^&*()-_=+[]{}<>?/|\\\\';\r\n      let iterations = 0;\r\n      let intervalId: any = null;\r\n\r\n      // เสียงพิมพ์ดีด\r\n      const audio = new Audio('/type.mp3');\r\n      audio.volume = 0.1;\r\n\r\n      const scramble = () => {\r\n        if (iterations >= fullText.length) {\r\n          clearInterval(intervalId);\r\n          // พิมพ์ทีละตัวพร้อมเสียง\r\n          typeWriterEffect();\r\n          return;\r\n        }\r\n        let scrambled = '';\r\n        for (let i = 0; i < fullText.length; i++) {\r\n          if (i < iterations) scrambled += fullText[i];\r\n          else scrambled += chars[Math.floor(Math.random() * chars.length)];\r\n        }\r\n        setDisplayText(scrambled);\r\n        iterations += 1 / 3;\r\n      };\r\n\r\n      const typeWriterEffect = () => {\r\n        let idx = 0;\r\n        let textToShow = '';\r\n        const typeInterval = setInterval(() => {\r\n          if (idx >= fullText.length) {\r\n            clearInterval(typeInterval);\r\n            return;\r\n          }\r\n          textToShow += fullText[idx];\r\n          setDisplayText(textToShow);\r\n          audio.currentTime = 0;\r\n          audio.play().catch(() => {}); // เล่นเสียงพิมพ์ดีด\r\n          idx++;\r\n        }, 150);\r\n      };\r\n\r\n      intervalId = setInterval(scramble, 50);\r\n\r\n      return () => {\r\n        clearInterval(intervalId);\r\n      };\r\n    }\r\n  }, [loading, showWelcome]);\r\n\r\n  const handleClick = () => {\r\n    if (!loading) router.push('/Home');\r\n  };\r\n\r\n  return (\r\n    <div className=\"welcome-container\" onClick={handleClick}>\r\n      <canvas id=\"bgCanvas\" className=\"background-canvas\"></canvas>\r\n\r\n      {loading && (\r\n        <div className=\"loading-screen\">\r\n          <div className=\"spinner\"></div>\r\n          <p>Loading...</p>\r\n        </div>\r\n      )}\r\n\r\n      {!loading && (\r\n        <div className={`welcome-content ${showWelcome ? 'fade-zoom-in' : ''}`}>\r\n          <h1 className=\"animated-text\">{displayText}</h1>\r\n          {showHint && <p className=\"hint-text\">กดที่ใดก็ได้เพื่อเข้าสู่ระบบ</p>}\r\n          <p className=\"neon-clock\">{timeString}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}