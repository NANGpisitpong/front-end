{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/IT-CMTC12/front-end/src/app/page.tsx"],"sourcesContent":["'use client';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport './welcome.css';\r\n\r\nexport default function WelcomePage() {\r\n  const router = useRouter();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [showWelcome, setShowWelcome] = useState(false);\r\n  const [showHint, setShowHint] = useState(false);\r\n  const [timeString, setTimeString] = useState('');\r\n  const [displayText, setDisplayText] = useState('');\r\n  const [showExtra, setShowExtra] = useState(false);\r\n\r\n  const baseText = \"WELCOME\";\r\n  const chars = '!@#$%^&*()-_=+[]{}<>?/|\\\\';\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setLoading(false);\r\n      setShowWelcome(true);\r\n    }, 2500);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (showWelcome) {\r\n      const timer = setTimeout(() => setShowHint(true), 1800);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [showWelcome]);\r\n\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      const now = new Date();\r\n      setTimeString(now.toLocaleTimeString());\r\n    }, 1000);\r\n    return () => clearInterval(timer);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n  if (!loading && showWelcome) {\r\n    let scrambleInterval: NodeJS.Timeout;\r\n    let typeInterval: NodeJS.Timeout;\r\n\r\n    const startLoop = () => {\r\n      setShowExtra(false);\r\n      let iterations = 0;\r\n\r\n      scrambleInterval = setInterval(() => {\r\n        if (iterations >= baseText.length) {\r\n          clearInterval(scrambleInterval);\r\n          startTypeEffect();\r\n          return;\r\n        }\r\n        let scrambled = '';\r\n        for (let i = 0; i < baseText.length; i++) {\r\n          if (i < iterations) scrambled += baseText[i];\r\n          else scrambled += chars[Math.floor(Math.random() * chars.length)];\r\n        }\r\n        setDisplayText(scrambled);\r\n        iterations += 0.3;\r\n      }, 35);\r\n    };\r\n\r\n    const startTypeEffect = () => {\r\n      let idx = 0;\r\n      let textToShow = '';\r\n      typeInterval = setInterval(() => {\r\n        if (idx >= baseText.length) {\r\n          clearInterval(typeInterval);\r\n          setShowExtra(true);\r\n          // ลบ triggerParticles(); ออก\r\n          return;\r\n        }\r\n        textToShow += baseText[idx];\r\n        setDisplayText(textToShow);\r\n        idx++;\r\n      }, 90);\r\n    };\r\n\r\n    startLoop();\r\n\r\n    const loopInterval = setInterval(() => {\r\n      startLoop();\r\n    }, 12000);\r\n\r\n    return () => {\r\n      clearInterval(scrambleInterval);\r\n      clearInterval(typeInterval);\r\n      clearInterval(loopInterval);\r\n    };\r\n  }\r\n}, [loading, showWelcome]);\r\n\r\n\r\n  useEffect(() => {\r\n    const canvas = document.getElementById('bgCanvas') as HTMLCanvasElement;\r\n    const ctx = canvas?.getContext('2d');\r\n    if (!canvas || !ctx) return;\r\n\r\n    let animationFrameId: number;\r\n\r\n    const resize = () => {\r\n      canvas.width = window.innerWidth;\r\n      canvas.height = window.innerHeight;\r\n    };\r\n    resize();\r\n    window.addEventListener('resize', resize);\r\n\r\n    // Matrix rain parameters\r\n    const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%&*'.split('');\r\n    const fontSize = 20;\r\n    const columns = Math.floor(canvas.width / fontSize);\r\n    const drops = Array(columns).fill(0);\r\n\r\n    const laserCount = 12;\r\n    const glowRadius = 180;\r\n\r\n    const draw = () => {\r\n      if (!ctx) return;\r\n\r\n      // Radial glow background\r\n      const grd = ctx.createRadialGradient(canvas.width/2, canvas.height/3, glowRadius/4, canvas.width/2, canvas.height/3, glowRadius);\r\n      grd.addColorStop(0, 'rgba(34,255,136,0.5)');\r\n      grd.addColorStop(1, 'rgba(0,0,0,0.9)');\r\n      ctx.fillStyle = grd;\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n      // Matrix rain\r\n      ctx.fillStyle = '#0f0';\r\n      ctx.font = `${fontSize}px monospace`;\r\n      drops.forEach((y, i) => {\r\n        const text = letters[Math.floor(Math.random() * letters.length)];\r\n        ctx.fillText(text, i * fontSize, y * fontSize);\r\n\r\n        if (y * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;\r\n        else drops[i]++;\r\n      });\r\n\r\n      // Laser beams with glowing gradient\r\n      ctx.lineWidth = 2;\r\n      for(let i=0; i<laserCount; i++) {\r\n        const time = Date.now() / 1000;\r\n        const y = (time * 200 + i * 140) % canvas.height;\r\n\r\n        const grad = ctx.createLinearGradient(0, y, canvas.width, y - 120);\r\n        grad.addColorStop(0, 'rgba(34,255,136,0)');\r\n        grad.addColorStop(0.5, 'rgba(34,255,136,0.3)');\r\n        grad.addColorStop(1, 'rgba(34,255,136,0)');\r\n\r\n        ctx.strokeStyle = grad;\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, y);\r\n        ctx.lineTo(canvas.width, y - 120);\r\n        ctx.shadowColor = '#22ff88';\r\n        ctx.shadowBlur = 20;\r\n        ctx.stroke();\r\n      }\r\n\r\n      animationFrameId = requestAnimationFrame(draw);\r\n    };\r\n\r\n    draw();\r\n\r\n    return () => {\r\n      cancelAnimationFrame(animationFrameId);\r\n      window.removeEventListener('resize', resize);\r\n    };\r\n  }, []);\r\n\r\n  const floatingRef = useRef<HTMLDivElement>(null);\r\n  useEffect(() => {\r\n    if (!floatingRef.current) return;\r\n\r\n    let frameId: number;\r\n    let t = 0;\r\n\r\n    const animate = () => {\r\n      t += 0.025;\r\n      const floatY = Math.sin(t) * 10;\r\n      const rotateX = Math.sin(t * 0.7) * 7;\r\n      const rotateZ = Math.sin(t * 1.3) * 5;\r\n      floatingRef.current!.style.transform = `translateY(${floatY}px) rotateX(${rotateX}deg) rotateZ(${rotateZ}deg)`;\r\n      frameId = requestAnimationFrame(animate);\r\n    };\r\n\r\n    animate();\r\n\r\n    return () => {\r\n      cancelAnimationFrame(frameId);\r\n    };\r\n  }, [showWelcome]);\r\n\r\n  const handleClick = () => {\r\n    if (!loading) router.push('/Home');\r\n  };\r\n\r\n  return (\r\n    <div className=\"welcome-container\" onClick={handleClick} role=\"button\" tabIndex={0}>\r\n      <canvas id=\"bgCanvas\" className=\"background-canvas\"></canvas>\r\n\r\n      {loading && (\r\n        <div className=\"loading-screen\">\r\n          <div className=\"spinner\"></div>\r\n          <p>Loading...</p>\r\n        </div>\r\n      )}\r\n\r\n      {!loading && (\r\n        <div className={`welcome-content ${showWelcome ? 'fade-zoom-in' : ''}`} ref={floatingRef}>\r\n          <h1 className=\"animated-text glitch\" data-text={displayText}>\r\n            {displayText}\r\n            <span aria-hidden=\"true\" className=\"glitch-layer glitch-layer1\">{displayText}</span>\r\n            <span aria-hidden=\"true\" className=\"glitch-layer glitch-layer2\">{displayText}</span>\r\n            <span aria-hidden=\"true\" className=\"glitch-layer glitch-layer3\">{displayText}</span>\r\n          </h1>\r\n\r\n          {showExtra && (\r\n            <h2 className=\"extra-text neon-text glitch-rgb-floating\">\r\n              <span style={{ color: '#22c55e' }}>Green</span>\r\n              <span style={{ color: '#facc15', marginLeft: '14px' }}>Pip</span>\r\n            </h2>\r\n          )}\r\n\r\n          {showHint && <p className=\"hint-text blinking\">กดที่ใดก็ได้เพื่อเข้าสู่ระบบ</p>}\r\n\r\n          <p className=\"neon-clock\">{timeString}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}