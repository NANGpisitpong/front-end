/* Layout route transitions â€” smooth fade/slide + overlay */

/* Global smoothing and rendering hints */
:root {
  --ease-out: cubic-bezier(.22,.61,.36,1);
  --ease-in-out: cubic-bezier(.4,0,.2,1);
}
html, body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  scroll-behavior: smooth;
}
* {
  -webkit-tap-highlight-color: transparent;
}
.navGlass, .team-card, .service-card, .edit-card, .btn, .dropdownMenu, .dropdownItem, .route-container, .route-overlay {
  will-change: transform, opacity;
  transform: translateZ(0);
}
img { content-visibility: auto; }
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: .001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: .01ms !important;
    scroll-behavior: auto !important;
  }
}

.route-container {
  transition: opacity .35s var(--ease-out, ease), transform .35s var(--ease-out, ease), filter .35s var(--ease-out, ease);
}
.route-animate-in {
  animation: fadeSlideIn .42s var(--ease-out, ease) forwards;
}

/* Two-layer route stack for exit/enter animations */
.route-stack {
  position: relative;
}
.route-layer {
  position: relative;
}
.route-layer.route-exit {
  position: absolute;
  inset: 0;
  z-index: 2;
  pointer-events: none;
  animation: fadeSlideOut .42s var(--ease-in-out, ease) forwards;
}
.route-layer.route-enter {
  z-index: 1;
  animation: fadeSlideIn .42s var(--ease-out, ease) forwards;
}

@keyframes fadeSlideOut {
  from { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
  to { opacity: .6; transform: translateY(-8px) scale(.995); filter: blur(2px); }
}
@keyframes fadeSlideIn {
  from { opacity: .75; transform: translateY(8px) scale(.995); filter: blur(2px); }
  to { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
}

/* Fullscreen overlay during route switching */
.route-overlay {
  position: fixed;
  inset: 0;
  z-index: 9999;
  pointer-events: none; /* visual only, let clicks through unless you want to block */
  opacity: 0;
  background:
    radial-gradient(1200px 700px at -15% -20%, rgba(0,255,159,.14), transparent 60%),
    radial-gradient(1000px 700px at 115% 120%, rgba(64,152,240,.16), transparent 60%),
    linear-gradient(120deg, rgba(5,9,20,.85) 0%, rgba(10,22,48,.85) 100%);
  backdrop-filter: blur(8px) saturate(140%);
  transition: opacity .3s var(--ease-in-out, ease);
}
.route-overlay.visible {
  opacity: 1;
}
.route-overlay::after {
  content: "";
  position: absolute; inset: 0; pointer-events: none; opacity: .35;
  background:
    repeating-linear-gradient(135deg, rgba(34,197,94,.18) 0 2px, transparent 2px 26px),
    repeating-linear-gradient(-135deg, rgba(250,204,21,.14) 0 2px, transparent 2px 26px);
  animation: graphRun 16s linear infinite;
}
@keyframes graphRun {
  0% { background-position: 0 0, 0 0; }
  50% { background-position: 240px 0, 0 240px; }
  100% { background-position: 0 0, 0 0; }
}
